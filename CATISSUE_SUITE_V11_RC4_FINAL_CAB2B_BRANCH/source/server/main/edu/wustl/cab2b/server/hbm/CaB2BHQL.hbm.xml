<?xml version="1.0"?>

<!--L
  Copyright Georgetown University.

  Distributed under the OSI-approved BSD 3-Clause License.
  See http://ncip.github.com/cab2b/LICENSE.txt for details.
L-->

<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN" 
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
    
<hibernate-mapping>  
	<query name="getRootIdForDataList">
	  select dataListMetadata.rootEntityId
		    from edu.wustl.cab2b.common.domain.DataListMetadata dataListMetadata
 			       		where dataListMetadata.id =  ? 
	</query>
		
	<query name="getAllDataLists">
		    from edu.wustl.cab2b.common.domain.DataListMetadata
 	</query>
 	
 	<query name="getExperimentSimilarDataList">
       select experiement
 			from Experiment experiement
				join experiement.dataListMetadataCollection dataListMetadata
						where dataListMetadata.id = ? and experiement.userId = ?
 	</query>
 	
 	<query name="getQueriesByUserId">
 		select cab2bQuery
       		from edu.wustl.cab2b.common.queryengine.Cab2bQuery cab2bQuery 
       			where cab2bQuery.userId = ?
 	</query>
 	
 	<query name="getLatestExperimentByUserId">
 		select Exp from edu.wustl.cab2b.common.domain.Experiment Exp where Exp.userId = ?   
 		order by Exp.lastUpdatedOn
   </query>
 	
 	<query name="getExperimentHierarchy">
 		select ExpGrp from edu.wustl.cab2b.common.domain.ExperimentGroup as ExpGrp where ExpGrp.parentGroup.id is null and ExpGrp.userId = ?
   </query>
 	
 	
 	
</hibernate-mapping>
    